<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>CanlÄ± Loglar</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='logs_style.css') }}">
</head>
<body>
    <h1>ðŸ“œ CanlÄ± Loglar</h1>
    <pre id="logContent">YÃ¼kleniyor...</pre>
    <a href="/">â¬… Geri dÃ¶n</a>
    <script>
        function fetchLogs() {
            fetch('/getlogs')
                .then(response => response.text())
                .then(data => {
                    // LoglarÄ± satÄ±r satÄ±r ayÄ±r ve tersine Ã§evir
                    let lines = data.trim().split('\n').reverse(); // SatÄ±rlarÄ± tersine Ã§eviriyoruz
                    
                    // Her satÄ±rÄ± iÅŸleyip HTML iÃ§ine yerleÅŸtiriyoruz
                    let formattedLogs = lines.map(line => {
                        return line.replace(/INFO/g, '<span class="info">INFO</span>')
                                   .replace(/WARNING/g, '<span class="warning">WARNING</span>')
                                   .replace(/ERROR/g, '<span class="error">ERROR</span>');
                    }).join('\n'); // Tekrar birleÅŸtir

                    document.getElementById('logContent').innerHTML = formattedLogs;
                });
        }
        fetchLogs();
        setInterval(fetchLogs, 2000);
    </script>
</body>
</html>